image: archlinux
packages:
    - python
    - nodejs
    - npm
    - python-tox
    - python-distlib
    - python-pre-commit
sources:
    - https://github.com/beancount/fava
tasks:
    - set_locale: |
          localectl set-locale LANG=en_US.UTF-8
    - build: |
          make -C fava
    - lint: |
          make -C fava lint
    - test: |
          make -C fava test
