<div id="transaction" class="transaction-form overlay-wrapper">
    <div class="overlay">
        <a href="#" class="close-overlay">(close)</a>
        <form id="transaction-form" action="{{ url_for('api_add_transaction') }}">
            <h3>New transaction:</h3>
            <div class="field-control date-line">
                <label for="date">Date:</label>
                <input type="date" name="date" value="{{ datetime.datetime.now().strftime('%Y-%m-%d') }}" />
                <label for="payee">Payee:</label>
                <input type="text" name="payee" list="payees" />
                <label for="payee">Description:</label>
                <input type="text" name="description" />
            </div>
            <div class="field-control posting">
                <label for="account">Account 1:</label>
                <input type="text" class="account" name="account" list="accounts" />
                <input type="number" step="0.01" class="currency" name="value" />
                <select name="currency">
                {% for currency in api.options['operating_currency'] %}
                    <option value="{{ currency }}"{% if loop.first %} selected="selected"{% endif %}>{{ currency }}</option>
                {% endfor %}
                </select>
            </div>
            <div class="field-control posting">
                <label for="account">Account 2:</label>
                <input type="text" class="account" name="account" list="accounts" />
                <input type="number" step="0.01" class="currency" name="value" />
                <select name="currency">
                {% for currency in api.options['operating_currency'] %}
                    <option value="{{ currency }}"{% if loop.first %} selected="selected"{% endif %}>{{ currency }}</option>
                {% endfor %}
                </select>
            </div>
            <button type="submit" id="transaction-form-submit" data-url="{{ url_for('api_add_document') }}">Save</button>
            <button type="submit" class="secondary" id="transaction-form-submit-and-new" data-url="{{ url_for('api_add_document') }}">Save and add new</button>
            <datalist id="accounts">
                {% for account_name in api.postings_by_account() %}
                <option>{{ account_name }}</option>
                {% endfor %}
            </datalist>
        </form>
    </div>
</div>

